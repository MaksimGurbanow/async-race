(()=>{var t={200:t=>{t.exports='<svg fill="#000000" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 31.445 31.445" xml:space="preserve" transform="matrix(-1, 0, 0, 1, 0, 0)"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><g><g><path d="M7.592,16.86c-1.77,0-3.203,1.434-3.203,3.204s1.434,3.204,3.203,3.204c1.768,0,3.203-1.434,3.203-3.204 S9.36,16.86,7.592,16.86z M7.592,21.032c-0.532,0-0.968-0.434-0.968-0.967s0.436-0.967,0.968-0.967 c0.531,0,0.966,0.434,0.966,0.967S8.124,21.032,7.592,21.032z"></path><path d="M30.915,17.439l-0.524-4.262c-0.103-0.818-0.818-1.418-1.643-1.373L27.6,11.868l-3.564-3.211 c-0.344-0.309-0.787-0.479-1.249-0.479l-7.241-0.001c-1.625,0-3.201,0.555-4.468,1.573l-4.04,3.246l-5.433,1.358 c-0.698,0.174-1.188,0.802-1.188,1.521v1.566C0.187,17.44,0,17.626,0,17.856v2.071c0,0.295,0.239,0.534,0.534,0.534h3.067 c-0.013-0.133-0.04-0.26-0.04-0.396c0-2.227,1.804-4.029,4.03-4.029s4.029,1.802,4.029,4.029c0,0.137-0.028,0.264-0.041,0.396 h8.493c-0.012-0.133-0.039-0.26-0.039-0.396c0-2.227,1.804-4.029,4.029-4.029c2.227,0,4.028,1.802,4.028,4.029 c0,0.137-0.026,0.264-0.04,0.396h2.861c0.295,0,0.533-0.239,0.533-0.534v-1.953C31.449,17.68,31.21,17.439,30.915,17.439z M20.168,12.202l-10.102,0.511L12,11.158c1.051-0.845,2.357-1.305,3.706-1.305h4.462V12.202z M21.846,12.117V9.854h0.657 c0.228,0,0.447,0.084,0.616,0.237l2.062,1.856L21.846,12.117z"></path><path d="M24.064,16.86c-1.77,0-3.203,1.434-3.203,3.204s1.434,3.204,3.203,3.204c1.769,0,3.203-1.434,3.203-3.204 S25.833,16.86,24.064,16.86z M24.064,21.032c-0.533,0-0.967-0.434-0.967-0.967s0.434-0.967,0.967-0.967 c0.531,0,0.967,0.434,0.967,0.967S24.596,21.032,24.064,21.032z"></path></g></g></g></svg>'},138:t=>{t.exports='<svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20.695 20.695" xml:space="preserve"><g><path style="fill:#030104;" d="M10.099,3.996l0.898,1.453L9.372,6.64L8.447,5.144L7.141,5.952L6.332,4.645L7.64,3.836l0.809,1.306 L10.099,3.996z M10.181,7.946L9.374,6.64L8.066,7.448l0.807,1.306L10.181,7.946z M17.667,5.115l-0.144,0.312 c-0.26,1.43-1.146,2.388-1.805,2.795c-1.426,0.881-2.903,0.353-2.964,0.331c-0.958-0.203-1.814-0.087-2.52,0.35 C8.926,9.712,8.553,11.37,8.55,11.389l-0.087,0.407l5.182,8.378l-0.839,0.521L3.577,5.775C3.4,5.845,3.193,5.787,3.089,5.619 C2.971,5.428,3.03,5.18,3.22,5.062l0.694-0.428C4.102,4.516,4.352,4.575,4.47,4.766C4.568,4.925,4.537,5.12,4.414,5.251 l0.249,0.404l0.006-0.013C5.211,4.327,5.901,3.404,6.719,2.9c1.484-0.917,2.84-0.154,2.897-0.121 c1.16,0.676,1.986,0.458,2.474,0.156c0.209-0.13,0.319-0.256,0.319-0.256c1.146-1.005,1.607-2.143,1.81-2.559 c0.202-0.415,0.563,0.383,0.563,0.383L17.667,5.115z M14.049,1.209l0.209,0.338l0.513-0.4l-0.41-0.662 C14.277,0.652,14.201,0.956,14.049,1.209z M8.442,10.6l-0.235,0.146l0.111,0.177C8.35,10.83,8.393,10.717,8.442,10.6z M12.691,8.188l-0.18-0.291l-0.176,0.238C12.452,8.148,12.572,8.164,12.691,8.188z M13.958,7.312L13.251,6.17l1.433-1.01 l-0.809-1.306l-1.431,1.012l-0.839-1.355c-0.168,0.04-0.356,0.064-0.563,0.062L10.1,3.997L9.582,3.163 C9.534,3.136,9.487,3.112,9.438,3.084C9.422,3.075,9.297,3.005,9.092,2.937L7.639,3.836L7.158,3.061 C7.075,3.1,6.99,3.147,6.904,3.2C6.569,3.407,6.259,3.697,5.97,4.06l0.361,0.586L5.184,5.354C5.132,5.465,5.081,5.575,5.031,5.693 l0.707,1.126L7.14,5.952l0.926,1.495L6.675,8.308l0.817,1.3l1.381-0.854l0.351,0.565c0.227-0.264,0.497-0.514,0.825-0.718 c0.132-0.08,0.269-0.147,0.408-0.21l-0.276-0.446l1.632-1.176l-0.816-1.32l1.445-0.583l0.807,1.305l-1.435,0.598l0.669,1.081 L13.958,7.312z M17.147,4.951l-0.021-0.034l-0.502,0.456l-0.698-1.126l0.526-0.409l-0.871-1.394L15.117,2.94l-0.858-1.39 l-0.757,0.468c-0.133,0.176-0.281,0.349-0.438,0.519l0.812,1.315l1.243-0.913l0.807,1.308l-1.241,0.912l0.707,1.142l-1.396,1.072 l0.576,0.93c0.312-0.065,0.639-0.182,0.961-0.381c0.205-0.127,0.397-0.282,0.576-0.461l-0.717-1.159l1.232-0.929l0.41,0.663 L17.147,4.951z"></path></g></svg>'}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";const t=function(){function t(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.element=null,this.createElement(t),e&&this.appendChildren.apply(this,e)}return t.prototype.createElement=function(t){var e,n=null!==(e=t.tag)&&void 0!==e?e:"div";this.element=document.createElement(n),this.addClasses(t.classes),this.setTextContent(t.txt),this.setCallback(t.events)},t.prototype.addClasses=function(t){var e=this;null==t||t.map((function(t){var n;return null===(n=e.element)||void 0===n?void 0:n.classList.add(t)}))},t.prototype.removeClass=function(t){var e;null===(e=this.element)||void 0===e||e.classList.remove(t)},t.prototype.toggleClass=function(t){var e;null===(e=this.element)||void 0===e||e.classList.toggle(t)},t.prototype.setTextContent=function(t){void 0===t&&(t=""),this.element&&(this.element.textContent=t)},t.prototype.setCallback=function(t){var e=this;null==t||t.forEach((function(t){var n,r=t.callback,o=t.eventType;"function"==typeof r&&o&&(null===(n=e.element)||void 0===n||n.addEventListener(o,r))}))},t.prototype.appendChildren=function(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];n.filter((function(t){return null!==t})).forEach((function(n){var r,o,a;if(n instanceof t){var i=n.getElement();i&&(null===(r=e.element)||void 0===r||r.appendChild(i))}else n instanceof HTMLElement?null===(o=e.element)||void 0===o||o.appendChild(n):n instanceof SVGSVGElement&&(null===(a=e.element)||void 0===a||a.append(n))}))},t.prototype.getChildren=function(){var t;return(null===(t=this.element)||void 0===t?void 0:t.children)||[]},t.prototype.moveChild=function(e){var n;e instanceof t&&(null===(n=this.element)||void 0===n||n.appendChild(e.getElement()))},t.prototype.getElement=function(){return this.element},t}();var e=n(200),r=n.n(e);var o,a=(o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},o(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});const i=function(t){function e(e){var n,o=this,a=e.color;(o=t.call(this,{tag:"div",classes:["eDHcTzBV"]})||this).SVGElement=null;var i=new DOMParser;return o.SVGElement=i.parseFromString(r(),"image/svg+xml").querySelector("svg"),null===(n=o.SVGElement)||void 0===n||n.setAttribute("fill",a),o.appendChildren(o.SVGElement),o}return a(e,t),e.prototype.update=function(t){var e;null===(e=this.SVGElement)||void 0===e||e.setAttribute("fill",t)},e.prototype.getCurrentPosition=function(){var t;if(this.element instanceof HTMLElement)return null===(t=this.element)||void 0===t?void 0:t.getBoundingClientRect()},e}(t);var c=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(){return l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},l.apply(this,arguments)};const s=function(t){function e(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=t.call(this,l(l({},e),{tag:"div"}))||this;return o.appendChildren.apply(o,n),o}return c(e,t),e}(t);var u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const p=function(t){function e(e){var n=t.call(this,{txt:e.txt,tag:"button",classes:["GbI1UedP"]})||this;return e.classes&&e.classes.length>0&&n.addClasses(e.classes),e.events&&n.setCallback(e.events),n}return u(e,t),e}(t),f="MxYj8nI8",h="oa9elmv9";var d=n(138),y=n.n(d);var v=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const w=function(t){function e(){var e=t.call(this,{tag:"div",classes:["L6_LsL7O"]})||this,n=(new DOMParser).parseFromString(y(),"image/svg+xml").querySelector("svg");return null==n||n.classList.add("mWPFfb9M"),e.appendChildren(n),e}return v(e,t),e}(t);function b(t,e,n){return r=this,o=void 0,i=function(){return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,fetch("http://127.0.0.1:3000/".concat(t,"?id=").concat(e,"&status=").concat(n),{method:"PATCH",headers:{"Content-Type":"application/json"}})];case 1:return[2,r.sent().json()];case 2:throw r.sent();case 3:return[2]}}))},new((a=void 0)||(a=Promise))((function(t,e){function n(t){try{l(i.next(t))}catch(t){e(t)}}function c(t){try{l(i.throw(t))}catch(t){e(t)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof a?r:new a((function(t){t(r)}))).then(n,c)}l((i=i.apply(r,o||[])).next())}));var r,o,a,i}var g=[{transform:"translateX(0px)"},{transform:"translateX(calc(100vw - 140px))"}],m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),C=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{l(r.next(t))}catch(t){a(t)}}function c(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))},x=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}};const _=function(t){function e(e){var n=this,r=e.color,o=e.id,a=e.name;return(n=t.call(this,{tag:"div",classes:["qz6s4clu"]})||this).id=o,n.name=a,n.carIcon=new i({color:r}),n.controllers=new s({classes:["XonzhP5x"]}),n.controllers.appendChildren(new p({txt:"A",classes:[f],events:[{eventType:"click",callback:function(t){return C(n,void 0,void 0,(function(){var e;return x(this,(function(n){return(e=t.target)instanceof HTMLElement&&!e.classList.contains(h)&&this.animate.bind(this)(),[2]}))}))}}]}),new p({txt:"B",classes:[f,h],events:[{eventType:"click",callback:function(t){var e=t.target;e instanceof HTMLElement&&!e.classList.contains(h)&&n.stop.bind(n)()}}]})),n.carWay=new w,n.appendChildren(n.controllers,n.carIcon,n.carWay),n}return m(e,t),e.prototype.update=function(t){this.carIcon.update(t)},e.prototype.animate=function(){return C(this,void 0,void 0,(function(){var t,e,n,r,o,a;return x(this,(function(i){switch(i.label){case 0:return[4,b("engine",this.id,"started")];case 1:return t=i.sent(),e=Math.round(t.distance/t.velocity),n=this.carIcon.getElement(),r=function(t,e){return n=this,r=arguments,a=function(t,e,n){var r;return void 0===n&&(n="drive"),function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,fetch("http://127.0.0.1:3000/".concat(t,"?id=").concat(e,"&status=").concat(n),{method:"PATCH",headers:{"Content-Type":"application/json"}})];case 1:return[2,o.sent().status];case 2:return r=o.sent(),console.log(r),[3,3];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(t,e){function i(t){try{l(a.next(t))}catch(t){e(t)}}function c(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(i,c)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}("engine",this.id,"drive"),n instanceof HTMLElement?(o=n.animate(g,{duration:e,iterations:1,fill:"forwards"}),this.controllers.getChildren().length>0&&(this.controllers.getChildren()[0].classList.add(h),this.controllers.getChildren()[1].classList.remove(h)),[4,r]):[3,3];case 2:if(500===(a=i.sent()))o.pause();else if(200===a)return nt.openModal({carInfo:{name:this.name},time:e}),[2,{id:this.id,time:e,name:this.name}];i.label=3;case 3:return[2]}}))}))},e.prototype.stop=function(){var t=this.carIcon.getElement();t.getAnimations()[0]&&t.getAnimations()[0].cancel(),this.controllers.getChildren().length>0&&(this.controllers.getChildren()[1].classList.add(h),this.controllers.getChildren()[0].classList.remove(h))},e}(t);var P=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),O=function(){return O=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},O.apply(this,arguments)};const k=function(t){function e(e){return t.call(this,O({tag:"h1"},e))||this}return P(e,t),e}(t);var I=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const S=function(t){function e(e){var n=this,r=e.name,o=e.callback;return(n=t.call(this,{tag:"div",classes:["kqrVFzTo"]})||this).controllers=new s({classes:["UBU1RePV"]}),n.controllers.appendChildren(new p({txt:"select"}),new p({txt:"remove",events:[{eventType:"click",callback:o}]})),n.header=new k({tag:"h6",txt:r}),n.appendChildren(n.controllers,n.header),n}return I(e,t),e}(t);var T=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const j=function(t){function e(e,n){var r=this,o=e.name,a=e.color,i=e.id;return(r=t.call(this,{tag:"div",classes:["ldwVID5H"],id:i})||this).heading=new S({name:o,callback:function(){i&&n(i)}}),r.content=new _({name:o,color:a||"",id:i||""}),r.appendChildren(r.heading,r.content),r.element&&i&&(r.element.id=i),r}return T(e,t),e.prototype.update=function(t){this.element&&this.content.update(t)},e.prototype.getId=function(){var t;return null===(t=this.element)||void 0===t?void 0:t.id},e.prototype.animate=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(t){switch(t.label){case 0:return[4,this.content.animate()];case 1:return[2,t.sent()]}}))},new((n=void 0)||(n=Promise))((function(o,a){function i(t){try{l(r.next(t))}catch(t){a(t)}}function c(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}));var t,e,n,r},e.prototype.reset=function(){this.content.stop()},e}(t);var E=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const L=function(t){function e(e,n){var r,o=this,a=e.pageNumber,i=e.carsInfo;return(o=t.call(this,{tag:"div",classes:["uZzwe4Ml"]})||this).header=new k({tag:"h3",txt:"Page #".concat(a)}),null===(r=o.element)||void 0===r||r.setAttribute("pageNumber",a.toString()),o.carItems=i.map((function(t){return new j(t,n)})),o.appendChildren.apply(o,function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}([o.header],o.carItems,!1)),o}return E(e,t),e.prototype.getCarItem=function(t){return this.carItems.find((function(e){return e.getId()==t}))},e.prototype.addItem=function(t){this.carItems.push(t)},e.prototype.removeItem=function(t){var e=this.carItems.findIndex((function(e){return e.getId()==t}));if(-1!==e){var n=this.carItems[e].getElement();n&&n.parentElement&&n.parentElement.removeChild(n),this.carItems.splice(e,1)}},e.prototype.getItems=function(){return this.carItems},e.prototype.animateItems=function(){return t=this,e=void 0,r=function(){return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(t){switch(t.label){case 0:return[4,this.carItems.map((function(t){return t.animate()}))];case 1:return[2,t.sent()]}}))},new((n=void 0)||(n=Promise))((function(o,a){function i(t){try{l(r.next(t))}catch(t){a(t)}}function c(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}));var t,e,n,r},e.prototype.resetAnimation=function(){this.carItems.forEach((function(t){return t.reset()}))},e}(t),A="PyruB_pE";function M(t,e){return n=this,r=void 0,a=function(){var n,r,o,a;return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),[4,fetch("http://127.0.0.1:3000/".concat(t,"?_page=").concat(e,"&_limit=7"))];case 1:return(n=i.sent()).ok?(o=r={cars:[],totalCount:""},[4,n.json()]):[3,3];case 2:return o.cars=i.sent(),r.totalCount=n.headers.get("X-Total-Count")||"",[2,r];case 3:throw new Error("Failed to fetch data");case 4:return[3,6];case 5:return a=i.sent(),console.error("Error fetching data:",a),[3,6];case 6:return[2]}}))},new((o=void 0)||(o=Promise))((function(t,e){function i(t){try{l(a.next(t))}catch(t){e(t)}}function c(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(i,c)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}function V(t,e){return n=this,r=void 0,a=function(){var n;return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,fetch("http://127.0.0.1:3000/".concat(t,"/").concat(parseInt(e)),{method:"DELETE",headers:{"Content-Type":"application/json"}})];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),console.log(n),[3,3];case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(t,e){function i(t){try{l(a.next(t))}catch(t){e(t)}}function c(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(i,c)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}function G(t,e){if(void 0===e&&(e=0),e>=t.length-1)return t;var n=t[e+1].getItems().shift();if(void 0===n)return t;var r=t[e];return t[t.length-1],r.addItem(n),r.moveChild(n),G(t,e+1)}var z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{l(r.next(t))}catch(t){a(t)}}function c(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))},B=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}};const W=function(e){function n(n,r){var o,a=e.call(this,{tag:"div",classes:["hd1riicU"]})||this;return a.carPages=[],a.currentPageIndex=0,a.pageNumber=1,a.totalCount=r,a.header=new k({txt:"Garage (".concat(r,")")}),a.carPages.push(new L({pageNumber:a.pageNumber,carsInfo:n},a.deleteCarItem.bind(a))),a.pageSwitchers=new s({classes:["x6KF0cP5"]}),a.pagesWrapper=new t({tag:"div"}),(o=a.pagesWrapper).appendChildren.apply(o,a.carPages),a.pageSwitchers.appendChildren(new p({txt:"<",events:[{eventType:"click",callback:a.previousPage.bind(a)}]}),new p({txt:">",events:[{eventType:"click",callback:a.nextPage.bind(a)}]})),a.appendChildren(a.header,a.pagesWrapper,a.pageSwitchers),a.openPage(),a}return z(n,e),n.prototype.getCarItem=function(t){return this.carPages[this.currentPageIndex].getCarItem(t)},n.prototype.openPage=function(){var t;null===(t=this.carPages[this.currentPageIndex])||void 0===t||t.addClasses([A])},n.prototype.animatePageItems=function(){return N(this,void 0,void 0,(function(){return B(this,(function(t){switch(t.label){case 0:return[4,this.carPages[this.currentPageIndex].animateItems()];case 1:return[2,t.sent()]}}))}))},n.prototype.resetPageAnimation=function(){this.carPages[this.currentPageIndex].resetAnimation()},n.prototype.nextPage=function(){return N(this,void 0,void 0,(function(){var t,e,n;return B(this,(function(r){switch(r.label){case 0:return t=this.carPages[this.currentPageIndex],(e=this.carPages[this.currentPageIndex+1])?[3,2]:[4,M("garage",(this.pageNumber+1).toString())];case 1:return(n=r.sent())&&0!==n.cars.length&&(t.toggleClass(A),this.currentPageIndex+=1,this.pageNumber+=1,this.createPage(n.cars)),[3,3];case 2:t.toggleClass(A),e.addClasses([A]),this.currentPageIndex+=1,r.label=3;case 3:return[2]}}))}))},n.prototype.createPage=function(t){var e=new L({carsInfo:t,pageNumber:this.pageNumber},this.deleteCarItem.bind(this));this.carPages.push(e),e.addClasses([A]),this.pagesWrapper.appendChildren(e)},n.prototype.previousPage=function(){return N(this,void 0,void 0,(function(){var t,e;return B(this,(function(n){return t=this.carPages[this.currentPageIndex],(e=this.carPages[this.currentPageIndex-1])&&(t.toggleClass(A),e.addClasses([A]),this.currentPageIndex-=1),[2]}))}))},n.prototype.createCarItem=function(t){var e=new j(t,this.deleteCarItem.bind(this));this.totalCount=this.totalCount+1,this.header.setTextContent("Garage (".concat(this.totalCount,")"));var n=this.carPages[this.pageNumber-1];n.getItems().length<7&&(n.appendChildren(e),n.addItem(e))},n.prototype.deleteCarItem=function(t){return N(this,void 0,void 0,(function(){var e;return B(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,V("garage",t)];case 1:return n.sent(),(e=this.carPages[this.currentPageIndex]).getCarItem(t)&&(e.removeItem(t),this.totalCount-=1,this.header.setTextContent("Garage (".concat(this.totalCount,")")),this.currentPageIndex<this.pageNumber-1&&G(this.carPages,this.currentPageIndex)),[3,3];case 2:throw n.sent();case 3:return[2]}}))}))},n}(t);var F=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const H=function(t){function e(e){var n=this,r=e.setValue,o=e.placeholder,a=e.type;return(n=t.call(this,{tag:"input",type:a,events:[{eventType:"input",callback:function(t){var e=t.target;if(e instanceof HTMLInputElement){var n=e.value;r&&r(n)}}}]})||this).element&&(n.element.placeholder=o||"",n.element.required=!0,n.element.type=a||"text"),n}return F(e,t),e}(t);var D=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const R=function(t){function e(e){var n=this,r=e.txt,o=e.buttonCallback;return(n=t.call(this,{txt:"",tag:"form"})||this).nameValue="",n.colorValue="",n.button=new p({txt:r,events:[{eventType:"click",callback:function(t){t.preventDefault(),n.nameValue&&n.colorValue&&o({name:n.nameValue,color:n.colorValue})}}]}),n.nameInput=new H({placeholder:"car name",setValue:n.setName.bind(n)}),n.colorInput=new H({placeholder:"type color in HEX format",setValue:n.setColor.bind(n),type:"color"}),n.appendChildren(n.button,n.nameInput,n.colorInput),n}return D(e,t),e.prototype.setName=function(t){this.nameValue=t},e.prototype.setColor=function(t){this.colorValue=t},e}(t),q="fEhCp60d",U="HloiCkgl";var X=["Tesla","Toyota","Audi","BMW","Lada","Mercedes","Ferrari","Lamborghini","Bugatti","Opel","Ford","Skoda","Renault","Suzuki","Lexus","Bentley","Maserati","Mazda","MCLaren","Maybach","Nissan","Pagani","Citroen"],J=["Model S","Mustang","A3","A4","A5","Armada","Bronco","CLA","Corolla","Corsair","Crown Signia","DB11","DBX"];function Y(){var t=Math.floor(Math.random()*X.length),e=X[t];t=Math.floor(Math.random()*J.length);var n,r,o=J[t];return{name:"".concat(e," ").concat(o),color:(n=Math.floor(16777215*Math.random()),r=n.toString(16).padStart(6,"0"),"#".concat(r))}}var Z=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const K=function(t){function e(e,n,r,o){var a=t.call(this,{tag:"div",classes:["JZDGffVf"]})||this;return a.createForm=new R({txt:"create",classes:["AD8PzGl8",q],buttonCallback:e}),a.updateForm=new R({txt:"update",classes:["cqkLqaWQ",q],buttonCallback:n}),a.controllers=new s({classes:["Nu6L44wR"]},new p({txt:"Race",events:[{eventType:"click",callback:function(t){var e=t.target;e instanceof HTMLElement&&!e.classList.contains(U)&&(r(),e.classList.add(U),a.controllers.getChildren()[1].classList.remove(U))}}]}),new p({txt:"Reset",events:[{eventType:"click",callback:function(t){var e=t.target;e instanceof HTMLElement&&!e.classList.contains(U)&&(o(),e.classList.add(U),a.controllers.getChildren()[0].classList.remove(U))}}]}),new p({txt:"Generate Car",events:[{eventType:"click",callback:function(t){for(var n=0;n<100;n++)e(Y())}}]})),a.appendChildren(a.createForm,a.updateForm,a.controllers),a}return Z(e,t),e}(t),Q="yW6H9Dtf";var $=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const tt=function(t){function e(){var e=t.call(this,{txt:"",tag:"div",classes:["az0Rrl99"]})||this;return e.time=1/0,e.closeButton=new p({tag:"button",txt:"X",events:[{eventType:"click",callback:function(){e.toggleClass(Q)}}],classes:["k67D0gtz"]}),e.appendChildren(e.closeButton),e}return $(e,t),e.prototype.open=function(t){var e=t.carInfo,n=t.time;this.time>n&&(this.time=n,this.setTextContent("The winner is ".concat(e.name,". Finished in ").concat(n/1e3,"s.")),this.appendChildren(this.closeButton),this.addClasses([Q]))},e}(t);var et=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const nt=function(t){function e(n,r,o,a,i){var c,l=t.call(this,{tag:"div",classes:["DEnF1vYB"]})||this;return l.cars=[],l.carForm=new K(o,a,l.animatePage.bind(l),l.resetCars.bind(l)),l.carList=new W(n,r),(c=l.cars).push.apply(c,n),l.appendChildren(l.carForm,l.carList,e.modal),l.callback=i,l}return et(e,t),e.prototype.createCarItem=function(t){this.carList.createCarItem(t)},e.prototype.updateCarItem=function(t,e){var n=this.carList.getCarItem(e);null==n||n.update(t)},e.openModal=function(t){this.modal.open(t)},e.prototype.animatePage=function(){return t=this,e=void 0,r=function(){var t,e,n,r,o,a;return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(i){switch(i.label){case 0:return[4,this.carList.animatePageItems()];case 1:return 0===(t=i.sent()).length?[2]:[4,t[0]];case 2:e=i.sent(),n=null==e?void 0:e.time,r=1,i.label=3;case 3:return r<t.length?[4,t[r]]:[3,6];case 4:o=i.sent(),(a=null==o?void 0:o.time)<n&&(e=o,n=a),i.label=5;case 5:return r++,[3,3];case 6:return console.log(e),void 0!==e&&this.callback({id:e.id,name:e.name,time:e.time.toString(),wins:"1"}),[2]}}))},new((n=void 0)||(n=Promise))((function(o,a){function i(t){try{l(r.next(t))}catch(t){a(t)}}function c(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}));var t,e,n,r},e.prototype.resetCars=function(){this.carList.resetPageAnimation()},e.modal=new tt,e}(t);var rt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ot=function(){return ot=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ot.apply(this,arguments)};const at=function(t){function e(e){return t.call(this,ot(ot({},e),{tag:"div",classes:["zUOCS4oJ"]}))||this}return rt(e,t),e}(t);var it=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const ct=function(t){function e(e){var n=this,r=e.id,o=e.wins,a=e.name,i=e.time;return(n=t.call(this,{tag:"div",classes:["rbw1599W"],id:r})||this).idCell=new at({txt:r}),n.winsCell=new at({txt:o}),n.nameCell=new at({txt:a}),n.timeCell=new at({txt:i}),n.appendChildren(n.idCell,n.winsCell,n.nameCell,n.timeCell),n}return it(e,t),e.prototype.update=function(t){var e=parseInt(t.time)/1e3;this.winsCell.setTextContent(t.wins),this.nameCell.setTextContent(t.name),this.timeCell.setTextContent(e.toString())},e.prototype.getId=function(){var t;return null===(t=this.element)||void 0===t?void 0:t.id},e}(t);var lt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const st=function(e){function n(n){var r=e.call(this,{tag:"div",classes:["DSAAG5g1"]})||this;return r.properties=new t({classes:["zs49rSYW"]}),r.properties.appendChildren(new at({txt:"id"}),new at({txt:"wins"}),new at({txt:"name"}),new at({txt:"best time"})),r.winnerItems=n.map((function(t){return new ct(t)})),r.appendChildren.apply(r,function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}([r.properties],r.winnerItems,!1)),r}return lt(n,e),n.prototype.getItems=function(){return this.winnerItems},n.prototype.addItem=function(t){var e=new ct(t);this.winnerItems.push(e),this.appendChildren(e)},n}(t);var ut=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const pt=function(t){function e(e){var n=this,r=e.pageNumber,o=e.carsInfo;return(n=t.call(this,{tag:"div",classes:["iuGb5O25"]})||this).header=new k({txt:"Page #".concat(r)}),n.table=new st(o),n.appendChildren(n.header,n.table),n}return ut(e,t),e.prototype.getItems=function(){return this.table.getItems()},e.prototype.addItem=function(t){this.table.addItem(t)},e}(t),ft={list:"pEIiS3tR",active:"mc0eFYzf",controllers:"h8fZVTqT"};var ht=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),dt=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};const yt=function(t){function e(e,n){var r=t.call(this,{tag:"div",classes:[ft.list]})||this;return r.winnerPages=[],r.currentPage=0,r.pageNumber=1,r.totalCount=0,r.totalCount=n,r.header=new k({tag:"h1",txt:"Winners (".concat(n,")"),classes:[ft.header]}),r.controllers=new s({classes:[ft.controllers]}),r.controllers.appendChildren(new p({txt:"<"}),new p({txt:">"})),r.winnerPages.push(new pt({carsInfo:e,pageNumber:r.currentPage})),r.appendChildren.apply(r,dt(dt([r.header],r.winnerPages,!1),[r.controllers],!1)),r}return ht(e,t),e.prototype.createWinnerItem=function(t){this.totalCount=this.totalCount+1,this.header.setTextContent("Garage (".concat(this.totalCount,")"));var e=this.winnerPages[this.winnerPages.length-1];e.getItems().length<7?e.addItem(t):(this.pageNumber+=1,new pt({pageNumber:this.pageNumber,carsInfo:[t]}))},e.prototype.updateWinnerItem=function(t){this.winnerPages.forEach((function(e){e.getItems().forEach((function(e){e.getId()==t.id&&e.update(t)}))}))},e}(t);var vt=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();const wt=function(t){function e(e,n){var r=t.call(this,{tag:"div",classes:["k9nnPcgf"]})||this;return r.winnerList=new yt(e,n),r.appendChildren(r.winnerList),r}return vt(e,t),e.prototype.addItem=function(t){this.winnerList.createWinnerItem(t)},e.prototype.updateItem=function(t){this.winnerList.updateWinnerItem(t)},e}(t),bt="iHhBJrdU";function gt(t,e){return n=this,r=void 0,a=function(){var n,r;return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fetch("http://127.0.0.1:3000/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})];case 1:if(!(n=o.sent()).ok)throw new Error("Failed to post data to ".concat(t));return[4,n.json()];case 2:return[2,o.sent()];case 3:throw r=o.sent(),console.error("Error posting data:",r),r;case 4:return[2]}}))},new((o=void 0)||(o=Promise))((function(t,e){function i(t){try{l(a.next(t))}catch(t){e(t)}}function c(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(i,c)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}function mt(t,e,n){return r=this,o=void 0,i=function(){var r;return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,fetch("http://127.0.0.1:3000/".concat(t,"/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()];case 3:return r=o.sent(),console.log(r),[3,4];case 4:return[2]}}))},new((a=void 0)||(a=Promise))((function(t,e){function n(t){try{l(i.next(t))}catch(t){e(t)}}function c(t){try{l(i.throw(t))}catch(t){e(t)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof a?r:new a((function(t){t(r)}))).then(n,c)}l((i=i.apply(r,o||[])).next())}));var r,o,a,i}function Ct(t,e,n){return r=this,o=void 0,i=function(){return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,fetch("http://127.0.0.1:000/".concat(t,"/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({wins:n.wins,time:n.time})})];case 1:return[2,r.sent().json()];case 2:throw r.sent();case 3:return[2]}}))},new((a=void 0)||(a=Promise))((function(t,e){function n(t){try{l(i.next(t))}catch(t){e(t)}}function c(t){try{l(i.throw(t))}catch(t){e(t)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof a?r:new a((function(t){t(r)}))).then(n,c)}l((i=i.apply(r,o||[])).next())}));var r,o,a,i}function xt(t,e){return n=this,r=void 0,a=function(){return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,fetch("http://127.0.0.1:3000/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e.id,wins:e.wins,time:e.time})})];case 1:return[2,n.sent().json()];case 2:throw n.sent();case 3:return[2]}}))},new((o=void 0)||(o=Promise))((function(t,e){function i(t){try{l(a.next(t))}catch(t){e(t)}}function c(t){try{l(a.throw(t))}catch(t){e(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof o?n:new o((function(t){t(n)}))).then(i,c)}l((a=a.apply(n,r||[])).next())}));var n,r,o,a}var _t=function(){return _t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},_t.apply(this,arguments)},Pt=function(t,e,n,r){return new(n||(n=Promise))((function(o,a){function i(t){try{l(r.next(t))}catch(t){a(t)}}function c(t){try{l(r.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(i,c)}l((r=r.apply(t,e||[])).next())}))},Ot=function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}},kt=function(){function t(){var t=this;this.garageView=null,this.winnerView=null,this.switchPagesButton=null,this.currentPage="",this.cars=[],this.winners=[],this.totalCarCount=0,this.totalWinnerCount=0,this.sort="id",this.order="ASC",this.currentPage="winner",M("garage","1").then((function(e){var n;e&&((n=t.cars).push.apply(n,e.cars),t.totalCarCount=parseInt(e.totalCount)),t.garageView=new nt(t.cars,t.totalCarCount,t.createCar.bind(t),t.updateCar.bind(t),t.createWinner.bind(t)),function(t,e,n,r){return o=this,a=void 0,c=function(){var t,e,o,a;return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),t="",n&&r&&(t="_sort=".concat(n,"&_order=").concat(r)),[4,fetch("http://127.0.0.1:3000/".concat("winners","?_page=").concat("1","&").concat(t))];case 1:return(e=i.sent()).ok?(a=o={cars:[],totalCount:""},[4,e.json()]):[3,3];case 2:return a.cars=i.sent(),o.totalCount=e.headers.get("X-Total-Count")||"",[2,o];case 3:throw new Error("Failed to fetch data");case 4:return[3,6];case 5:throw i.sent();case 6:return[2]}}))},new((i=void 0)||(i=Promise))((function(t,e){function n(t){try{l(c.next(t))}catch(t){e(t)}}function r(t){try{l(c.throw(t))}catch(t){e(t)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof i?o:new i((function(t){t(o)}))).then(n,r)}l((c=c.apply(o,a||[])).next())}));var o,a,i,c}(0,0,t.sort,t.order).then((function(e){var n;e&&(e.cars.forEach((function(e){var n=t.cars.find((function(t){return t.id===e.id}));t.winners.push(_t(_t({},e),{name:(null==n?void 0:n.name)||"",color:(null==n?void 0:n.color)||""}))})),t.totalWinnerCount=parseInt(e.totalCount)),t.winnerView=new wt(t.winners,t.totalWinnerCount),t.switchPagesButton=new p({txt:"Open ".concat(t.currentPage," page"),events:[{eventType:"click",callback:function(e){var n,r,o;t.currentPage="garage"===t.currentPage?"winner":"garage",null===(n=t.garageView)||void 0===n||n.toggleClass(bt),null===(r=t.winnerView)||void 0===r||r.toggleClass(bt),null===(o=t.switchPagesButton)||void 0===o||o.setTextContent("Open ".concat(t.currentPage," page"))}}]}),null===(n=t.garageView)||void 0===n||n.addClasses([bt]),t.render()}))}))}return t.prototype.render=function(){var t=document.getElementById("root");if(!t)throw new Error("Root element not found");t.innerHTML="",this.switchPagesButton&&this.garageView&&this.winnerView&&t.append(this.switchPagesButton.getElement(),this.garageView.getElement(),this.winnerView.getElement())},t.prototype.createCar=function(t){return Pt(this,void 0,void 0,(function(){var e,n;return Ot(this,(function(r){switch(r.label){case 0:return[4,gt("garage",t)];case 1:return(e=r.sent())&&(this.cars.push(e),null===(n=this.garageView)||void 0===n||n.createCarItem(e)),[2]}}))}))},t.prototype.createWinner=function(t){return Pt(this,void 0,void 0,(function(){var e,n,r,o;return Ot(this,(function(a){switch(a.label){case 0:return(e=this.winners.find((function(e){return e.id===t.id})))&&e.id?[4,Ct("winners",e.id,e)]:[3,2];case 1:return n=a.sent(),null===(r=this.winnerView)||void 0===r||r.addItem(n),[3,4];case 2:return[4,xt("winners",{time:t.time,wins:"1",name:t.name})];case 3:n=a.sent(),null===(o=this.winnerView)||void 0===o||o.updateItem(n),a.label=4;case 4:return[2]}}))}))},t.prototype.updateCar=function(t){return Pt(this,void 0,void 0,(function(){var e,n,r,o,a;return Ot(this,(function(i){switch(i.label){case 0:return e=null===(o=this.cars.find((function(e){return e.name===t.name.trim()})))||void 0===o?void 0:o.id,t&&e&&t.color?[4,mt("garage",e,{name:t.name.trim(),color:t.color.trim()})]:[3,2];case 1:(n=i.sent())&&n.id&&n.color&&(r=this.cars.findIndex((function(t){return t.id===n.id})),-1!==r&&(this.cars[r]=n,null===(a=this.garageView)||void 0===a||a.updateCarItem(n.color,n.id))),i.label=2;case 2:return[2]}}))}))},t}();const It=kt;var St=document.createElement("div");St.id="root",document.body.append(St),(new It).render()})()})();